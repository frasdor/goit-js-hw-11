{"version":3,"file":"search-1yYX6qJ7.js","sources":["../../src/search.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst API_KEY = '46136265-8c05b511bcb8d1129c580e4d3';\n\nconst form = document.getElementById('searchForm');\nconst gallery = document.getElementById('gallery');\nconst loader = document.querySelector('.loader');\n\nlet lightbox;\n\n// Funkcja do pobierania obrazów z Pixabay \nfunction fetchImages(query) {\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(url)\n    .then(response => response.json())\n    .then(data => data.hits)\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong while fetching images. Please try again later.',\n      });\n    });\n}\n\n// Funkcja wyświetlająca obrazy w galerii\nfunction displayImages(images) {\n  gallery.innerHTML = ''; // Czyszczenie poprzednich wyników\n\n  if (images.length === 0) {\n    iziToast.error({\n      title: 'No Results',\n      position: \"topRight\",\n      message: 'Sorry, there are no images matching your search query. Please try again!',\n    });\n    return;\n  }\n\n  const markup = images.map((image) => {\n    return `\n      <a href=\"${image.largeImageURL}\" class=\"image-item\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\">\n        <div class=\"info\">\n          <p>Likes: ${image.likes}</p>\n          <p>Views: ${image.views}</p>\n          <p>Comments: ${image.comments}</p>\n          <p>Downloads: ${image.downloads}</p>\n        </div>\n      </a>`;\n  }).join('');\n\n  gallery.innerHTML = markup;\n\n  // Inicjalizacja lub odświeżenie SimpleLightbox\n  if (lightbox) {\n    lightbox.refresh();\n  } else {\n    lightbox = new SimpleLightbox('.image-item', { /* opcjonalne opcje */ });\n  }\n}\n\n// Funkcja obsługi wyszukiwania\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const query = document.getElementById('searchQuery').value.trim();\n  if (!query) {\n    iziToast.warning({\n      title: 'Warning',\n      position: \"topRight\",\n      message: 'Please enter a search term.',\n    });\n    return;\n  }\n\n  loader.style.display = 'block'; // Pokazanie wskaźnika pobierania\n  gallery.innerHTML = ''; // Wyczyść galerię przed nowym wyszukiwaniem\n\n  // Używamy then/catch do obsługi promes\n  fetchImages(query)\n    .then(images => {\n      loader.style.display = 'none'; // Ukrycie wskaźnika pobierania\n      if (images) {\n        displayImages(images);\n      }\n    })\n    .catch(error => {\n      loader.style.display = 'none'; // Ukrycie wskaźnika pobierania w przypadku błędu\n      iziToast.error({\n        title: 'Error',\n        message: 'An error occurred while fetching images. Please try again.',\n      });\n    });\n});\n"],"names":["API_KEY","form","gallery","loader","lightbox","fetchImages","query","url","response","data","error","iziToast","displayImages","images","markup","image","SimpleLightbox","e"],"mappings":"gDAKA,MAAMA,EAAU,qCAEVC,EAAO,SAAS,eAAe,YAAY,EAC3CC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAGJ,SAASC,EAAYC,EAAO,CAC1B,MAAMC,EAAM,gCAAgCP,CAAO,MAAM,mBAAmBM,CAAK,CAAC,2DAElF,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQA,EAAK,IAAI,EACtB,MAAMC,GAAS,CACdC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,qEACjB,CAAO,CACP,CAAK,CACL,CAGA,SAASC,EAAcC,EAAQ,CAG7B,GAFAX,EAAQ,UAAY,GAEhBW,EAAO,SAAW,EAAG,CACvBF,EAAS,MAAM,CACb,MAAO,aACP,SAAU,WACV,QAAS,0EACf,CAAK,EACD,MACD,CAED,MAAMG,EAASD,EAAO,IAAKE,GAClB;AAAA,iBACMA,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,sBAEpCA,EAAM,KAAK;AAAA,sBACXA,EAAM,KAAK;AAAA,yBACRA,EAAM,QAAQ;AAAA,0BACbA,EAAM,SAAS;AAAA;AAAA,WAGtC,EAAE,KAAK,EAAE,EAEVb,EAAQ,UAAYY,EAGhBV,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIY,EAAe,cAAe,CAA0B,CAAA,CAE3E,CAGAf,EAAK,iBAAiB,SAAWgB,GAAM,CACrCA,EAAE,eAAc,EAEhB,MAAMX,EAAQ,SAAS,eAAe,aAAa,EAAE,MAAM,OAC3D,GAAI,CAACA,EAAO,CACVK,EAAS,QAAQ,CACf,MAAO,UACP,SAAU,WACV,QAAS,6BACf,CAAK,EACD,MACD,CAEDR,EAAO,MAAM,QAAU,QACvBD,EAAQ,UAAY,GAGpBG,EAAYC,CAAK,EACd,KAAKO,GAAU,CACdV,EAAO,MAAM,QAAU,OACnBU,GACFD,EAAcC,CAAM,CAE5B,CAAK,EACA,MAAMH,GAAS,CACdP,EAAO,MAAM,QAAU,OACvBQ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,4DACjB,CAAO,CACP,CAAK,CACL,CAAC"}