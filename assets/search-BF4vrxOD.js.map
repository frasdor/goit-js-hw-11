{"version":3,"file":"search-BF4vrxOD.js","sources":["../../src/search.js"],"sourcesContent":["\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst API_KEY = '46136265-8c05b511bcb8d1129c580e4d3';\n\n\nconst form = document.getElementById('searchForm');\nconst gallery = document.getElementById('gallery');\nconst loader = document.querySelector('.loader');\n\nlet lightbox;\n\n// Funkcja do pobierania obrazów z Pixabay\nasync function fetchImages(query) {\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n  \n  try {\n    const response = await fetch(url);\n    const data = await response.json();\n    return data.hits;\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Something went wrong while fetching images. Please try again later.',\n    });\n  }\n}\n\n// Funkcja wyświetlająca obrazy w galerii\nfunction displayImages(images) {\n  gallery.innerHTML = ''; // Czyszczenie poprzednich wyników\n\n  if (images.length === 0) {\n    iziToast.error({\n      title: 'No Results',\n      position: \"topRight\",\n      message: 'Sorry, there are no images matching your search query. Please try again!',\n    });\n    return;\n  }\n\n  const markup = images.map((image) => {\n    return `\n      <a href=\"${image.largeImageURL}\" class=\"image-item\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\">\n        <div class=\"info\">\n          <p>Likes: ${image.likes}</p>\n          <p>Views: ${image.views}</p>\n          <p>Comments: ${image.comments}</p>\n          <p>Downloads: ${image.downloads}</p>\n        </div>\n      </a>`;\n  }).join('');\n\n  gallery.innerHTML = markup;\n\n  // Inicjalizacja lub odświeżenie SimpleLightbox\n  if (lightbox) {\n    lightbox.refresh();\n  } else {\n    lightbox = new SimpleLightbox('.image-item', { /* opcjonalne opcje */ });\n  }\n}\n\n// Funkcja obsługi wyszukiwania\nform.addEventListener('submit', async (e) => {\n  e.preventDefault();\n\n  const query = document.getElementById('searchQuery').value.trim();\n  if (!query) {\n    iziToast.warning({\n      title: 'Warning',\n      position: \"topRight\",\n      message: 'Please enter a search term.',\n    });\n    return;\n  }\n\n  loader.style.display = 'block'; // Pokazanie wskaźnika pobierania\n  gallery.innerHTML = ''; // Wyczyść galerię przed nowym wyszukiwaniem\n\n  const images = await fetchImages(query);\n  loader.style.display = 'none'; // Ukrycie wskaźnika pobierania\n\n  if (images) {\n    displayImages(images);\n  }\n});"],"names":["API_KEY","form","gallery","loader","lightbox","fetchImages","query","url","iziToast","displayImages","images","markup","image","SimpleLightbox","e"],"mappings":"gDAMA,MAAMA,EAAU,qCAGVC,EAAO,SAAS,eAAe,YAAY,EAC3CC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAGJ,eAAeC,EAAYC,EAAO,CAChC,MAAMC,EAAM,gCAAgCP,CAAO,MAAM,mBAAmBM,CAAK,CAAC,2DAElF,GAAI,CAGF,OADa,MADI,MAAM,MAAMC,CAAG,GACJ,QAChB,IACb,MAAe,CACdC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,qEACf,CAAK,CACF,CACH,CAGA,SAASC,EAAcC,EAAQ,CAG7B,GAFAR,EAAQ,UAAY,GAEhBQ,EAAO,SAAW,EAAG,CACvBF,EAAS,MAAM,CACb,MAAO,aACP,SAAU,WACV,QAAS,0EACf,CAAK,EACD,MACD,CAED,MAAMG,EAASD,EAAO,IAAKE,GAClB;AAAA,iBACMA,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,sBAEpCA,EAAM,KAAK;AAAA,sBACXA,EAAM,KAAK;AAAA,yBACRA,EAAM,QAAQ;AAAA,0BACbA,EAAM,SAAS;AAAA;AAAA,WAGtC,EAAE,KAAK,EAAE,EAEVV,EAAQ,UAAYS,EAGhBP,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIS,EAAe,cAAe,CAA0B,CAAA,CAE3E,CAGAZ,EAAK,iBAAiB,SAAU,MAAOa,GAAM,CAC3CA,EAAE,eAAc,EAEhB,MAAMR,EAAQ,SAAS,eAAe,aAAa,EAAE,MAAM,OAC3D,GAAI,CAACA,EAAO,CACVE,EAAS,QAAQ,CACf,MAAO,UACP,SAAU,WACV,QAAS,6BACf,CAAK,EACD,MACD,CAEDL,EAAO,MAAM,QAAU,QACvBD,EAAQ,UAAY,GAEpB,MAAMQ,EAAS,MAAML,EAAYC,CAAK,EACtCH,EAAO,MAAM,QAAU,OAEnBO,GACFD,EAAcC,CAAM,CAExB,CAAC"}